---
import TitleSections from "@/components/TitleSections.astro";
import {
  LucideEye,
  LucidePersonStanding,
  LucideShieldCheck,
  LucideTrophy,
} from "@lucide/astro";
---

<section class="py-20 px-4">
  <div class="max-w-4xl mx-auto flex flex-col gap-8 items-center">
    <TitleSections title="¿Quiénes Somos?" />

    <p class="text-lg text-text/85 text-balance text-center w-full">
      Nuestra historia comienza con una visión: facilitar el acceso a
      herramientas de <strong>gestión</strong> robustas, confiables y
      <strong>escalables</strong> a empresas que desean crecer de forma
      <strong>organizada</strong> y <strong>estratégica</strong>. Conformamos un
      equipo multidisciplinario de <strong>consultores certificados</strong>,
      <strong>desarrolladores</strong>, <strong>analistas de procesos</strong> y
      expertos en <strong>ERP</strong>, todos comprometidos con un mismo
      objetivo: que tu empresa alcance su máximo <strong>potencial</strong>.
    </p>

    <div
      id="values"
      class="flex flex-col gap-12 md:grid md:grid-cols-9 md:gap-x-4 md:gap-y-16"
    >
      <!-- Línea de tiempo (visible solo en pantallas md+) -->
      <div
        class="hidden md:flex col-span-1 col-start-5 row-span-3 flex-col items-center relative"
      >
        <div
          id="timeline-bar"
          class="absolute top-0 left-1/2 -translate-x-1/2 w-[8px] h-full bg-gradient-to-b from-primary to-secondary rounded-full z-0"
        >
        </div>
        <div class="timeline-dot mt-0 bg-primary z-10"></div>
        <div class="flex-1"></div>
        <div class="timeline-dot bg-secondary z-10"></div>
        <div class="flex-1"></div>
        <div class="timeline-dot mb-0 bg-primary z-10"></div>
      </div>

      <!-- Contenido de los valores -->
      <div class="contents">
        <!-- Misión -->
        <div
          class="timeline-item bg-background-cards/30 backdrop-blur rounded-lg p-6 shadow-md border-l-4 border-primary col-span-9 md:col-span-4 md:col-start-1 md:row-start-1 flex flex-col gap-3"
          id="item-mision"
        >
          <div class="flex items-center justify-between gap-2">
            <h3 class="text-2xl font-bold text-primary mb-2">Misión</h3>
            <LucideTrophy class="w-12 h-12 text-primary" />
          </div>
          <p class="text-lg text-text/85 text-balance">
            Brindar consultoría, soporte e implementación de SAP Business One,
            adaptada a las necesidades de cada cliente, con un enfoque centrado
            en la calidad, innovación y compromiso con su éxito empresarial.
          </p>
        </div>
        <!-- Visión -->
        <div
          class="timeline-item bg-background-cards/30 backdrop-blur rounded-lg p-6 shadow-md border-l-4 border-support-2 col-span-9 md:col-span-4 md:col-start-6 md:row-start-2 flex flex-col gap-3"
          id="item-vision"
        >
          <div class="flex items-center justify-between gap-2">
            <LucideEye class="w-12 h-12 text-support-2" />
            <h3 class="text-2xl font-bold text-support-2 mb-2">Visión</h3>
          </div>
          <p class="text-lg text-text/85 text-balance">
            Ser líderes en soluciones tecnológicas empresariales, transformando
            organizaciones a través de SAP Business One y servicios de TI de
            excelencia.
          </p>
        </div>
        <!-- Objetivos -->
        <div
          class="timeline-item bg-background-cards/30 backdrop-blur rounded-lg p-6 shadow-md border-l-4 border-emphasis col-span-9 md:col-span-4 md:col-start-1 md:row-start-3 flex flex-col gap-3"
          id="item-objetivos"
        >
          <div class="flex items-center justify-between gap-2">
            <h3 class="text-2xl font-bold text-emphasis mb-2">
              Objetivos Generales
            </h3>
            <LucideShieldCheck class="w-12 h-12 text-emphasis" />
          </div>
          <ul class="text-lg text-text/85 space-y-2">
            <li>
              <span class="text-emphasis font-bold mr-2">-</span> Consultoría experta
              y acompañamiento continuo
            </li>
            <li>
              <span class="text-emphasis font-bold mr-2">-</span> Soluciones SAP
              Business One a la medida
            </li>
            <li>
              <span class="text-emphasis font-bold mr-2">-</span> Compromiso con
              tu crecimiento y rentabilidad
            </li>
          </ul>
        </div>
      </div>
    </div>

    <style>
      #timeline-bar {
        transition: height 0.4s cubic-bezier(0.22, 1, 0.36, 1);
      }
      .timeline-dot {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 3px #4079ff30;
        background: #4079ff;
      }
    </style>

    <script>
      import { gsap } from "gsap";
      import { ScrollTrigger } from "gsap/ScrollTrigger";
      gsap.registerPlugin(ScrollTrigger);

      // Animar la barra de timeline
      gsap.fromTo(
        "#timeline-bar",
        { height: "0%" },
        {
          height: "100%",
          ease: "power1.inOut",
          scrollTrigger: {
            trigger: "#values",
            start: "top 80%",
            end: "bottom 50%",
            scrub: true,
          },
        }
      );

      // Animar cada bloque de texto
      gsap.utils.toArray(".timeline-item").forEach((item, i) => {
        if (item instanceof Element) {
          gsap.from(item, {
            opacity: 0,
            y: 60,
            duration: 0.8,
            scrollTrigger: {
              trigger: item,
              start: "top 80%",
              end: "top 60%",
              scrub: true,
            },
            delay: i * 0.1,
          });
        }
      });
    </script>
  </div>
</section>
