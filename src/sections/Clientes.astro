---
import {
  Icon,
  LucideBuilding,
  LucideFactory,
  LucideShoppingBag,
} from "@lucide/astro";
---

<section
  id="clientes"
  class="py-20 px-4 md:px-8 lg:px-16 relative overflow-hidden"
>
  <!-- Background elements -->
  <div class="blob-glow bg-primary/30 w-64 h-64 -top-10 -left-10"></div>
  <div class="blob-glow bg-support-2/20 w-80 h-80 bottom-20 right-10"></div>

  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-family-title mb-4 font-bold">
        Nuestros <span class="text-primary">Clientes</span>
      </h2>
      <p class="text-lg max-w-3xl mx-auto">
        Empresas que han confiado en nuestros servicios para transformar su
        infraestructura tecnológica y potenciar su crecimiento.
      </p>
    </div>

    <div class="client-grid grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- Cliente 1 -->
      <div
        class="client-card bg-background-cards rounded-xl p-6 shadow-lg border border-secondary/10 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:border-primary/30"
      >
        <div class="client-logo flex justify-center mb-6 h-24 items-center">
          <!-- Placeholder para logo de cliente -->
          <div
            class="w-full h-full flex items-center justify-center bg-background/50 rounded-lg"
          >
            <LucideBuilding class="w-16 h-16 text-primary" />
          </div>
        </div>
        <h3 class="text-xl font-semibold mb-2 text-center">
          Minas de Zacatlan
        </h3>
        <p class="text-center text-secondary">
          Implementamos soluciones SAP que optimizaron sus procesos de negocio,
          resultando en un aumento del 30% en eficiencia operativa.
        </p>
      </div>

      <!-- Cliente 2 -->
      <a
        href="#contacto"
        class="client-card bg-background-cards rounded-xl p-6 shadow-lg border border-secondary/10 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:border-primary/30"
      >
        <div class="client-logo flex justify-center mb-6 h-24 items-center">
          <!-- Placeholder para logo de cliente -->
          <div
            class="w-full h-full flex items-center justify-center bg-background/50 rounded-lg"
          >
            <LucideFactory class="w-16 h-16 text-support-1" />
          </div>
        </div>
        <h3 class="text-xl font-semibold mb-2 text-center">Unipuebla</h3>
        <p class="text-center text-secondary">
          Modernizamos su infraestructura con SAP S/4HANA, permitiéndoles
          integrar todas sus operaciones y mejorar la toma de decisiones.
        </p>
      </a>

      <!-- Cliente 3 -->
      <div
        class="client-card bg-background-cards rounded-xl p-6 shadow-lg border border-secondary/10 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:border-primary/30"
      >
        <div class="client-logo flex justify-center mb-6 h-24 items-center">
          <!-- Placeholder para logo de cliente -->
          <div
            class="w-full h-full flex items-center justify-center bg-background/50 rounded-lg"
          >
            <LucideShoppingBag class="w-16 h-16 text-emphasis" />
          </div>
        </div>
        <h3 class="text-xl font-semibold mb-2 text-center">
          Gobierno de Puebla
        </h3>
        <p class="text-center text-secondary">
          Implementamos SAP Retail para gestionar su cadena de suministro,
          logrando reducir costos y mejorar la experiencia del cliente.
        </p>
      </div>

      <!-- Cliente 4 -->
      <div
        class="client-card bg-background-cards rounded-xl p-6 shadow-lg border border-secondary/10 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:border-primary/30"
      >
        <div class="client-logo flex justify-center mb-6 h-24 items-center">
          <!-- Placeholder para logo de cliente -->
          <div
            class="w-full h-full flex items-center justify-center bg-background/50 rounded-lg"
          >
            <Icon name="building-2" class="w-16 h-16 text-support-2" />
          </div>
        </div>
        <h3 class="text-xl font-semibold mb-2 text-center">Gessa Salaverry</h3>
        <p class="text-center text-secondary">
          Desarrollamos una solución personalizada de SAP Banking para optimizar
          sus operaciones financieras y cumplir con regulaciones.
        </p>
      </div>

      <!-- Testimonial destacado -->
      <div
        class="mt-16 bg-gradient-to-r from-background-cards to-background-cards/80 p-8 rounded-xl border border-primary/20 shadow-lg relative overflow-hidden testimonial-container col-span-2"
      >
        <div
          class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-support-1 to-emphasis"
        >
        </div>
        <div class="flex flex-col md:flex-row gap-8 items-center">
          <div class="testimonial-image w-full md:w-1/3 flex justify-center">
            <div
              class="w-48 h-48 rounded-full bg-background/50 flex items-center justify-center border-2 border-primary/30"
            >
              <Icon name="user" class="w-24 h-24 text-primary/70" />
            </div>
          </div>
          <div class="testimonial-content w-full md:w-2/3">
            <Icon name="quote" class="w-12 h-12 text-primary/30 mb-4" />
            <p class="text-lg italic mb-6">
              "Trabajar con INFRALUX ha sido una experiencia transformadora para
              nuestra empresa. Su equipo de expertos no solo implementó SAP de
              manera eficiente, sino que también nos acompañó en todo el proceso
              de adaptación. Hemos visto resultados inmediatos en términos de
              productividad y toma de decisiones."
            </p>
            <div>
              <p class="font-semibold text-primary">Carlos Rodríguez</p>
              <p class="text-sm text-secondary">
                Director de Tecnología, BOLERO JEANS.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="mt-16 text-center col-span-2">
        <h3 class="text-2xl font-family-title mb-4">
          ¿Listo para transformar tu negocio?
        </h3>
        <a
          href="#contacto"
          class="inline-block bg-primary hover:bg-primary/90 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg"
        >
          Contáctanos hoy
        </a>
      </div>
    </div>
  </div>

  <script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    // Registrar plugins
    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener("astro:page-load", () => {
      // Animación para el título y subtítulo
      gsap.from("#clientes h2", {
        scrollTrigger: {
          trigger: "#clientes",
          start: "top 80%",
        },
        y: 50,
        opacity: 0,
        duration: 1,
        ease: "power3.out",
      });

      gsap.from("#clientes h2 + p", {
        scrollTrigger: {
          trigger: "#clientes",
          start: "top 80%",
        },
        y: 30,
        opacity: 0,
        duration: 1,
        delay: 0.3,
        ease: "power3.out",
      });

      // Animación para las tarjetas de clientes
      gsap.from(".client-card", {
        scrollTrigger: {
          trigger: ".client-grid",
          start: "top 80%",
        },
        y: 60,
        opacity: 0,
        duration: 0.8,
        stagger: 0.15,
        ease: "power2.out",
      });

      // Animación para el testimonial
      const testimonialTl = gsap.timeline({
        scrollTrigger: {
          trigger: ".testimonial-container",
          start: "top 75%",
        },
      });

      testimonialTl
        .from(".testimonial-image", {
          x: -50,
          opacity: 0,
          duration: 1,
          ease: "power2.out",
        })
        .from(
          ".testimonial-content",
          {
            x: 50,
            opacity: 0,
            duration: 1,
            ease: "power2.out",
          },
          "-=0.7"
        )
        .from(
          ".testimonial-content .text-primary, .testimonial-content .text-sm",
          {
            y: 20,
            opacity: 0,
            duration: 0.6,
            stagger: 0.2,
            ease: "power2.out",
          },
          "-=0.4"
        );

      // Animación para el CTA
      gsap.from("#clientes .mt-16.text-center", {
        scrollTrigger: {
          trigger: "#clientes .mt-16.text-center",
          start: "top 85%",
        },
        y: 30,
        opacity: 0,
        duration: 0.8,
        ease: "power2.out",
      });
    });
  </script>
</section>
