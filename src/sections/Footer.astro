---
import {
  LucideArrowUp,
  LucideLinkedin,
  LucideNavigation,
  LucidePhone,
  Mail,
  MapPin,
  Phone,
  type Icon as IconType,
} from "@lucide/astro";

// Año actual para el copyright
const currentYear = new Date().getFullYear();

// Enlaces de navegación
const navLinks = [
  { name: "Inicio", url: "/" },
  { name: "Servicios", url: "/servicios" },
  { name: "¿Qué es SAP?", url: "/sap" },
  { name: "Nosotros", url: "/sobre-nosotros" },
  { name: "Contacto", url: "/contacto" },
];

type contactInfo = {
  icon: typeof IconType;
  text: string;
};

// Información de contacto
const contactInfo = [
  { icon: MapPin, text: "Av. Reforma 123, Col. Centro, Puebla, México" },
  { icon: Phone, text: "(+52) 222 123 4567" },
  { icon: Mail, text: "contacto@infralux.com" },
];
---

<footer class="bg-gradient-to-br from-text to-blue-950 pt-16 pb-8 text-white">
  <div class="max-w-7xl mx-auto px-4 md:px-8 lg:px-16">
    <!-- Sección principal del footer con logo, enlaces y contacto -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
      <!-- Logo e información de la empresa -->
      <div class="flex flex-col items-start justify-start gap-3 col-span-2">
        <div class="">
          <a href="#" class="inline-block">
            <h2 class="text-3xl font-bold font-family-title text-primary">
              INFRALUX
            </h2>
          </a>
        </div>
        <p class="text-white/90 max-w-md">
          Especialistas en soluciones SAP para empresas que buscan optimizar sus
          procesos de negocio y alcanzar la excelencia operacional.
        </p>
        <div class="flex space-x-4">
          <a
            href="https://www.linkedin.com/company/infralux"
            target="_blank"
            rel="noopener noreferrer"
            class="bg-background p-2 rounded-full hover:bg-primary/10 transition-all duration-300"
            aria-label="LinkedIn"
          >
            <LucideLinkedin class="w-5 h-5 text-primary" />
          </a>
        </div>
      </div>

      <!-- Enlaces de navegación -->
      <div>
        <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
          <LucideNavigation class="w-5 h-5 text-primary" />
          <span>Navegación</span>
        </h3>
        <ul class="space-y-2">
          {
            navLinks.map((link) => (
              <li>
                <a
                  href={link.url}
                  class="text-white/90 hover:text-primary transition-colors duration-300 w-fit"
                >
                  {link.name}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <!-- Información de contacto -->
      <div>
        <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
          <LucidePhone class="w-5 h-5 text-primary" />
          <span>Contacto</span>
        </h3>
        <ul class="space-y-3">
          {
            contactInfo.map((item) => (
              <li class="flex items-start gap-3">
                <item.icon class="w-5 h-5 text-white/90 mt-1" />
                <span class="text-white/90">{item.text}</span>
              </li>
            ))
          }
        </ul>
      </div>

      <!-- Separador -->
      <div class="border-t border-white/10 my-8 col-span-4"></div>

      <!-- Sección inferior con copyright y enlaces legales -->
      <div class="text-white/90 text-sm col-span-4 text-center">
        &copy; {currentYear}
        <span class="text-primary font-medium">INFRALUX</span>. Todos los
        derechos reservados.
      </div>

      <!-- Botón de volver arriba -->
      <button
        id="backToTop"
        class="fixed bottom-6 right-6 z-50 rounded-full p-2 bg-primary text-white opacity-0 invisible transition-all duration-300 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer"
        aria-label="Volver arriba"
      >
        <LucideArrowUp class="w-5 h-5" />
      </button>
    </div>

    <script>
      const backToTopButton = document.getElementById("backToTop");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 400) {
          backToTopButton?.classList.remove("opacity-0", "invisible");
          backToTopButton?.classList.add("opacity-100", "visible");
        } else {
          backToTopButton?.classList.remove("opacity-100", "visible");
          backToTopButton?.classList.add("opacity-0", "invisible");
        }
      });

      backToTopButton?.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });
    </script>
  </div>
</footer>
