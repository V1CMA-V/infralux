---
import { Icon } from "@lucide/astro";
---

<section id="contacto" class="py-20 px-4 md:px-8 lg:px-16 relative overflow-hidden">
  <!-- Background elements -->
  <div class="blob-glow bg-support-1/20 w-96 h-96 -bottom-20 -right-20"></div>
  <div class="blob-glow bg-emphasis/10 w-64 h-64 top-20 -left-10"></div>
  
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-family-title mb-4 font-bold">
        <span class="text-primary">Contáctanos</span>
      </h2>
      <p class="text-lg max-w-3xl mx-auto">
        Estamos listos para ayudarte a transformar tu negocio con soluciones SAP personalizadas.
        Ponte en contacto con nosotros y comencemos a trabajar juntos.
      </p>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
      <!-- Formulario de contacto -->
      <div class="contact-form-container">
        <div class="bg-background-cards p-8 rounded-xl shadow-lg border border-secondary/10">
          <h3 class="text-2xl font-semibold mb-6 flex items-center gap-2">
            <Icon name="mail" class="w-6 h-6 text-primary" />
            <span>Envíanos un mensaje</span>
          </h3>
          
          <form id="contactForm" class="space-y-6">
            <div class="form-group">
              <label for="nombre" class="block text-sm font-medium text-secondary mb-1">Nombre completo</label>
              <input 
                type="text" 
                id="nombre" 
                name="nombre" 
                class="w-full bg-background border border-secondary/20 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" 
                placeholder="Tu nombre"
                required
              />
            </div>
            
            <div class="form-group">
              <label for="email" class="block text-sm font-medium text-secondary mb-1">Correo electrónico</label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                class="w-full bg-background border border-secondary/20 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" 
                placeholder="tu@email.com"
                required
              />
            </div>
            
            <div class="form-group">
              <label for="empresa" class="block text-sm font-medium text-secondary mb-1">Empresa</label>
              <input 
                type="text" 
                id="empresa" 
                name="empresa" 
                class="w-full bg-background border border-secondary/20 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" 
                placeholder="Nombre de tu empresa"
              />
            </div>
            
            <div class="form-group">
              <label for="servicio" class="block text-sm font-medium text-secondary mb-1">Servicio de interés</label>
              <select 
                id="servicio" 
                name="servicio" 
                class="w-full bg-background border border-secondary/20 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all"
              >
                <option value="">Selecciona un servicio</option>
                <option value="implementacion">Implementación SAP</option>
                <option value="migracion">Migración a S/4HANA</option>
                <option value="soporte">Soporte y mantenimiento</option>
                <option value="consultoria">Consultoría SAP</option>
                <option value="otro">Otro</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="mensaje" class="block text-sm font-medium text-secondary mb-1">Mensaje</label>
              <textarea 
                id="mensaje" 
                name="mensaje" 
                rows="4" 
                class="w-full bg-background border border-secondary/20 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" 
                placeholder="Cuéntanos sobre tu proyecto o necesidades"
                required
              ></textarea>
            </div>
            
            <div class="form-submit">
              <button 
                type="submit" 
                class="w-full bg-primary hover:bg-primary/90 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg flex items-center justify-center gap-2"
              >
                <Icon name="send" class="w-5 h-5" />
                Enviar mensaje
              </button>
            </div>
          </form>
        </div>
      </div>
      
      <!-- Información de contacto -->
      <div class="contact-info-container space-y-8">
        <!-- Tarjeta de información principal -->
        <div class="bg-background-cards p-8 rounded-xl shadow-lg border border-secondary/10">
          <h3 class="text-2xl font-semibold mb-6 flex items-center gap-2">
            <Icon name="info" class="w-6 h-6 text-primary" />
            <span>Información de contacto</span>
          </h3>
          
          <div class="space-y-6">
            <div class="flex items-start gap-4">
              <div class="bg-primary/10 p-3 rounded-full">
                <Icon name="map-pin" class="w-6 h-6 text-primary" />
              </div>
              <div>
                <h4 class="font-medium text-lg">Dirección</h4>
                <p class="text-secondary">Av. Reforma 123, Col. Centro<br />Puebla, Puebla, México</p>
              </div>
            </div>
            
            <div class="flex items-start gap-4">
              <div class="bg-primary/10 p-3 rounded-full">
                <Icon name="phone" class="w-6 h-6 text-primary" />
              </div>
              <div>
                <h4 class="font-medium text-lg">Teléfono</h4>
                <p class="text-secondary">(+52) 222 123 4567</p>
              </div>
            </div>
            
            <div class="flex items-start gap-4">
              <div class="bg-primary/10 p-3 rounded-full">
                <Icon name="mail" class="w-6 h-6 text-primary" />
              </div>
              <div>
                <h4 class="font-medium text-lg">Correo electrónico</h4>
                <p class="text-secondary">contacto@infralux.com</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Horario de atención -->
        <div class="bg-background-cards p-8 rounded-xl shadow-lg border border-secondary/10">
          <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">
            <Icon name="clock" class="w-5 h-5 text-primary" />
            <span>Horario de atención</span>
          </h3>
          
          <div class="space-y-2">
            <div class="flex justify-between">
              <span class="text-secondary">Lunes - Viernes</span>
              <span>9:00 AM - 6:00 PM</span>
            </div>
            <div class="flex justify-between">
              <span class="text-secondary">Sábados</span>
              <span>9:00 AM - 1:00 PM</span>
            </div>
            <div class="flex justify-between">
              <span class="text-secondary">Domingos</span>
              <span>Cerrado</span>
            </div>
          </div>
        </div>
        
        <!-- Redes sociales -->
        <div class="bg-background-cards p-8 rounded-xl shadow-lg border border-secondary/10">
          <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">
            <Icon name="share-2" class="w-5 h-5 text-primary" />
            <span>Síguenos</span>
          </h3>
          
          <div class="flex gap-4">
            <a href="#" class="bg-background p-3 rounded-full hover:bg-primary/10 transition-all duration-300">
              <Icon name="facebook" class="w-6 h-6 text-primary" />
            </a>
            <a href="#" class="bg-background p-3 rounded-full hover:bg-primary/10 transition-all duration-300">
              <Icon name="twitter" class="w-6 h-6 text-primary" />
            </a>
            <a href="#" class="bg-background p-3 rounded-full hover:bg-primary/10 transition-all duration-300">
              <Icon name="linkedin" class="w-6 h-6 text-primary" />
            </a>
            <a href="#" class="bg-background p-3 rounded-full hover:bg-primary/10 transition-all duration-300">
              <Icon name="instagram" class="w-6 h-6 text-primary" />
            </a>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Mapa -->
    <div class="mt-16 map-container">
      <div class="bg-background-cards p-4 rounded-xl shadow-lg border border-secondary/10 overflow-hidden">
        <div class="aspect-video w-full rounded-lg overflow-hidden">
          <!-- Placeholder para el mapa (en producción, reemplazar con un iframe de Google Maps) -->
          <div class="w-full h-full bg-background/50 flex items-center justify-center">
            <div class="text-center">
              <Icon name="map" class="w-16 h-16 text-primary/30 mx-auto mb-4" />
              <p class="text-secondary">Mapa de ubicación</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  
  // Registrar plugins
  gsap.registerPlugin(ScrollTrigger);
  
  document.addEventListener("astro:page-load", () => {
    // Animación para el título y subtítulo
    gsap.from("#contacto h2", {
      scrollTrigger: {
        trigger: "#contacto",
        start: "top 80%",
      },
      y: 50,
      opacity: 0,
      duration: 1,
      ease: "power3.out"
    });
    
    gsap.from("#contacto h2 + p", {
      scrollTrigger: {
        trigger: "#contacto",
        start: "top 80%",
      },
      y: 30,
      opacity: 0,
      duration: 1,
      delay: 0.3,
      ease: "power3.out"
    });
    
    // Animación para el formulario
    gsap.from(".contact-form-container", {
      scrollTrigger: {
        trigger: ".contact-form-container",
        start: "top 80%",
      },
      x: -50,
      opacity: 0,
      duration: 0.8,
      ease: "power2.out"
    });
    
    // Animación para los campos del formulario
    gsap.from(".form-group", {
      scrollTrigger: {
        trigger: ".contact-form-container",
        start: "top 75%",
      },
      y: 20,
      opacity: 0,
      duration: 0.5,
      stagger: 0.1,
      ease: "power2.out",
      delay: 0.3
    });
    
    // Animación para la información de contacto
    gsap.from(".contact-info-container > div", {
      scrollTrigger: {
        trigger: ".contact-info-container",
        start: "top 80%",
      },
      x: 50,
      opacity: 0,
      duration: 0.8,
      stagger: 0.2,
      ease: "power2.out"
    });
    
    // Animación para el mapa
    gsap.from(".map-container", {
      scrollTrigger: {
        trigger: ".map-container",
        start: "top 85%",
      },
      y: 30,
      opacity: 0,
      duration: 0.8,
      ease: "power2.out"
    });
    
    // Validación básica del formulario
    const contactForm = document.getElementById("contactForm") as HTMLFormElement;
    if (contactForm) {
      contactForm.addEventListener("submit", (e) => {
        e.preventDefault();
        
        // Aquí se añadiría la lógica para enviar el formulario
        // Por ahora, solo mostramos una alerta
        alert("¡Gracias por tu mensaje! Te contactaremos pronto.");
        contactForm.reset();
      });
    }
  });
</script>